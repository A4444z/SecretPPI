# GlueCMAE é…ç½®æ–‡ä»¶
# æ‰€æœ‰è¶…å‚æ•°è®¾ç½®

# æ•°æ®é…ç½®
data:
  root_dir: "./"
  lmdb_path: "database/3DComplex/processed_lmdb"
  exclude_pdb_json: "database/CASF-2016_pdb_ids.json"
  train_split: 0.9
  val_split: 0.05
  test_split: 0.05
  batch_size: 32       # æ³¨æ„ï¼šå¦‚æœæ˜¯ 8 å¡ DDPï¼ŒçœŸå® Batch Size = 16 * 8 = 128ï¼Œè¿™å¯¹å¯¹æ¯”å­¦ä¹ éå¸¸å®Œç¾ï¼
  num_workers: 4
  pin_memory: false

# æ¨¡å‹é…ç½®
model:
  hidden_dim: 128
  num_encoder_layers: 6
  num_decoder_layers: 4
  edge_dim: 19
  vocab_size: 101
  use_gradient_checkpointing: true
  mask_noise: 0.5

# è®­ç»ƒé…ç½®
training:
  num_epochs: 100
  learning_rate: 1.0e-4
  weight_decay: 1.0e-4
  max_grad_norm: 5.0
  
  # ================= ğŸš¨ CMAE ä¸“å±è¶…å‚æ•° =================
  temperature: 0.2      # InfoNCE æ¸©åº¦ç³»æ•° (å»ºè®®èŒƒå›´: 0.07 ~ 0.2)
  lambda_contrast: 1.0     # å¯¹æ¯”æŸå¤±æƒé‡ (ä¸»å¯¼æµå½¢æ‹‰ä¼¸)
  lambda_recon: 1.0        # å±€éƒ¨é‡æ„æŸå¤±æƒé‡ (è¾…åŠ©ç‰©ç†ä¿çœŸ)
  recon_cutoff: 15.0
  # =====================================================
  entropy_weight: 0.001
  use_attention_guidance: true
  guidance_weight: 1.0
  
  # ä¼˜åŒ–å™¨é…ç½®
  optimizer:
    type: "Adam"
    betas: [0.9, 0.999]
    eps: 1.0e-8
  
  # å­¦ä¹ ç‡è°ƒåº¦å™¨
  scheduler:
    type: "ReduceLROnPlateau"
    factor: 0.5
    patience: 10
    min_lr: 1.0e-6

# æ—¥å¿—å’Œä¿å­˜é…ç½®
logging:
  project: "GlueCMAE"      # ğŸ‘ˆ æ”¹æˆäº† CMAEï¼Œæ–¹ä¾¿åœ¨ WandB ä¸ŠåŒºåˆ†å†å²æ›²çº¿
  entity: null
  log_interval: 50
  val_interval: 1
  save_interval: 4
  save_dir: "checkpoints"
  use_wandb: true

# å‡ ä½•é…ç½®
geometry:
  cutoff: 4.5
  rbf_dim: 16
  contact_cutoff: 4.0

# SE(3) æ•°æ®å¢å¼º
augmentation:
  train:
    random_rotation: true
    random_translation: false
    translation_std: 0.1
  val:
    random_rotation: false
    random_translation: false

